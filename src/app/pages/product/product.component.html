<app-header></app-header>
<div class="container product-page">
    <div *ngIf="box$ | async as box; else loading">
        <div class="product-grid">
            <div class="product-image">
                <img [src]="box.image" [alt]="box.name">
            </div>
            <div class="product-details">
                <h1>{{ box.name }}</h1>
                <p class="sub">{{ box.pieces }} pièces</p>
                <p class="price">{{ box.price | currency:'EUR':'symbol':'1.2-2' }}</p>
                <p class="desc">{{ box.description }}</p>

                <h3>Contenu</h3>
                <ul>
                    <li *ngFor="let f of box.foods">{{ f.nom }} — {{ f.quantite }}</li>
                </ul>

                <button class="btn btn-primary" (click)="addToCart(box)">Ajouter au panier</button>
            </div>
        </div>
    </div>
    <ng-template #loading>
        <p>Chargement...</p>
    </ng-template>
</div>